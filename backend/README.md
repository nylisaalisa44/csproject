# CS2 Trading Platform Backend

–ë—ç–∫–µ–Ω–¥ –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã —Ç–æ—Ä–≥–æ–≤–ª–∏ –∏–≥—Ä–æ–≤—ã–º–∏ –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏ CS2 –∏ –¥—Ä—É–≥–∏—Ö –∏–≥—Ä.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **Steam –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** - –≤—Ö–æ–¥ —á–µ—Ä–µ–∑ Steam –∞–∫–∫–∞—É–Ω—Ç —Å JWT —Ç–æ–∫–µ–Ω–∞–º–∏
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏** - –ø—Ä–æ—Ñ–∏–ª–∏, –±–∞–ª–∞–Ω—Å, —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
- **–¢–æ—Ä–≥–æ–≤–ª—è –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏** - –ø–æ–∫—É–ø–∫–∞ –∏ –ø—Ä–æ–¥–∞–∂–∞ —Å–∫–∏–Ω–æ–≤ —á–µ—Ä–µ–∑ Steam Trade
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞–º–∏** - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ç–æ—Ä–≥–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
- **–°–∏—Å—Ç–µ–º–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π** - –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ –≤—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤
- **–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å** - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Steam –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –±–æ—Ç–æ–≤
- **–¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã** - –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- **Rate Limiting** - –∑–∞—â–∏—Ç–∞ –æ—Ç DDoS –∞—Ç–∞–∫
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Node.js** - —Å—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **Express.js** - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **TypeScript** - —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JavaScript
- **MongoDB** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Mongoose** - ODM –¥–ª—è MongoDB
- **Passport.js** - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ Steam
- **JWT** - —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- **Steam API** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–æ Steam
- **steam-tradeoffer-manager** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤—ã–º–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏
- **steam-user** - —Ä–∞–±–æ—Ç–∞ —Å Steam –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏
- **Jest** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 18+
- MongoDB 5+
- Steam API Key
- Steam –∞–∫–∫–∞—É–Ω—Ç—ã –¥–ª—è –±–æ—Ç–æ–≤

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
```bash
git clone <repository-url>
cd backend
```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
```bash
npm install
```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
```bash
cp env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` —Ñ–∞–π–ª:
```env
# Server Configuration
PORT=3000
NODE_ENV=development

# Database
MONGODB_URI=mongodb://localhost:27017/cs2_trading

# JWT Secret
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# Steam API Configuration
STEAM_API_KEY=your-steam-api-key
STEAM_RETURN_URL=http://localhost:3000/auth/steam/return
STEAM_REALM=http://localhost:3000

# Frontend URL
FRONTEND_URL=http://localhost:5173

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000
API_RATE_LIMIT_WINDOW_MS=60000
API_RATE_LIMIT_MAX_REQUESTS=300
STATIC_RATE_LIMIT_WINDOW_MS=60000
STATIC_RATE_LIMIT_MAX_REQUESTS=1000

# Bot Sync Service
DISABLE_BOT_SYNC=false
DISABLE_RATE_LIMIT=false
```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä**
```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npm run dev

# –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º
npm run dev:test

# –ü—Ä–æ–¥–∞–∫—à–Ω
npm run build
npm start
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ config/          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ database.ts  # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ controllers/     # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã API
‚îÇ   ‚îú‚îÄ‚îÄ AuthController.ts    # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ UserController.ts    # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ ItemController.ts    # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ TradeController.ts   # –¢–æ—Ä–≥–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ TransactionController.ts # –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ BotController.ts     # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞–º–∏
‚îú‚îÄ‚îÄ middleware/      # Middleware
‚îÇ   ‚îî‚îÄ‚îÄ auth.ts      # JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îú‚îÄ‚îÄ models/          # –ú–æ–¥–µ–ª–∏ MongoDB
‚îÇ   ‚îú‚îÄ‚îÄ User.ts      # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ Item.ts      # –ü—Ä–µ–¥–º–µ—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ Trade.ts     # –¢–æ—Ä–≥–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ Transaction.ts # –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ Bot.ts       # –¢–æ—Ä–≥–æ–≤—ã–µ –±–æ—Ç—ã
‚îú‚îÄ‚îÄ services/        # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ SteamService.ts           # –†–∞–±–æ—Ç–∞ —Å–æ Steam API
‚îÇ   ‚îú‚îÄ‚îÄ BotService.ts             # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ BotSyncService.ts         # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –±–æ—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ ItemSyncService.ts        # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–µ–¥–º–µ—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ TradeService.ts           # –¢–æ—Ä–≥–æ–≤–∞—è –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ TransactionService.ts     # –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ SteamTradeManagerService.ts # Steam Trade Manager
‚îú‚îÄ‚îÄ types/           # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îú‚îÄ‚îÄ index.ts
‚îÇ   ‚îú‚îÄ‚îÄ express.d.ts
‚îÇ   ‚îú‚îÄ‚îÄ steam-types.d.ts
‚îÇ   ‚îú‚îÄ‚îÄ steam-user.d.ts
‚îÇ   ‚îú‚îÄ‚îÄ steamcommunity.d.ts
‚îÇ   ‚îî‚îÄ‚îÄ steam-tradeoffer-manager.d.ts
‚îú‚îÄ‚îÄ utils/           # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ logger.ts    # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ scripts/         # –°–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ seedItems.ts # –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–æ–≤
‚îú‚îÄ‚îÄ index.ts         # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª —Å–µ—Ä–≤–µ—Ä–∞
‚îî‚îÄ‚îÄ index-test.ts    # –¢–µ—Å—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä
```

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

### Steam OAuth

1. **–ü–æ–ª—É—á–µ–Ω–∏–µ Steam API Key**
   - –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://steamcommunity.com/dev/apikey
   - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π API –∫–ª—é—á

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ callback URL**
   - –í Steam API –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–æ–º–µ–Ω: `localhost` (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
   - Callback URL: `http://localhost:3000/auth/steam/return`

### JWT –¢–æ–∫–µ–Ω—ã

- –¢–æ–∫–µ–Ω—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π Steam –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è: 7 –¥–Ω–µ–π
- –ü–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ: `Authorization: Bearer <token>`

## üìà API Endpoints

### –ë–∞–∑–æ–≤—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã
- `GET /` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ API
- `GET /test` - –¢–µ—Å—Ç–æ–≤—ã–π endpoint

### –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `GET /test-auth` - –¢–µ—Å—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `GET /test-images` - –¢–µ—Å—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- `GET /test-trading` - –¢–µ—Å—Ç —Ç–æ—Ä–≥–æ–≤–ª–∏
- `GET /test-bots` - –¢–µ—Å—Ç –±–æ—Ç–æ–≤

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `GET /auth/steam` - –ò–Ω–∏—Ü–∏–∞—Ü–∏—è Steam –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `GET /auth/steam/return` - Callback –ø–æ—Å–ª–µ Steam –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `POST /auth/logout` - –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
- `GET /auth/check` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `GET /api/users` - –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `GET /api/users/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `GET /api/users/steam/:steamId` - –ü–æ–∏—Å–∫ –ø–æ Steam ID
- `GET /api/users/profile` - –ü—Ä–æ—Ñ–∏–ª—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `PUT /api/users/profile` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è

### –ü—Ä–µ–¥–º–µ—Ç—ã –∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
- `GET /api/items` - –°–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–º–µ—Ç–æ–≤
- `GET /api/items/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–µ–¥–º–µ—Ç–æ–≤
- `GET /api/items/:id` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–µ–¥–º–µ—Ç–µ
- `GET /api/items/steam/:steamId` - –ü—Ä–µ–¥–º–µ—Ç –ø–æ Steam ID
- `GET /api/inventory/user` - –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /api/inventory/:steamId` - –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /api/inventory` - –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –±–æ—Ç–æ–≤
- `PUT /api/items/:id/price` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω—ã (–∞–¥–º–∏–Ω)
- `PUT /api/items/:id/quantity` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ (–∞–¥–º–∏–Ω)

### –¢–æ—Ä–≥–æ–≤–ª—è
- `POST /api/trades/calculate` - –†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —Å–¥–µ–ª–∫–∏
- `POST /api/trades` - –°–æ–∑–¥–∞–Ω–∏–µ —Å–¥–µ–ª–∫–∏
- `GET /api/trades` - –ò—Å—Ç–æ—Ä–∏—è —Å–¥–µ–ª–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /api/trades/:id` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–¥–µ–ª–∫–µ
- `PUT /api/trades/:id/cancel` - –û—Ç–º–µ–Ω–∞ —Å–¥–µ–ª–∫–∏
- `PUT /api/trades/:id/process` - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–¥–µ–ª–∫–∏
- `PUT /api/trades/:id/complete` - –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–¥–µ–ª–∫–∏

### –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- `POST /api/transactions/deposit` - –°–æ–∑–¥–∞–Ω–∏–µ –¥–µ–ø–æ–∑–∏—Ç–∞
- `POST /api/transactions/withdrawal` - –°–æ–∑–¥–∞–Ω–∏–µ –≤—ã–≤–æ–¥–∞
- `GET /api/transactions` - –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /api/transactions/balance` - –ë–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `PUT /api/transactions/:transactionId/complete` - –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- `PUT /api/transactions/:transactionId/cancel` - –û—Ç–º–µ–Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- `GET /api/transactions/trade/:tradeId` - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–æ —Å–¥–µ–ª–∫–µ

### –ë–æ—Ç—ã
- `GET /api/bots/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–æ—Ç–æ–≤
- `GET /api/bots/health` - –°–æ—Å—Ç–æ—è–Ω–∏–µ –±–æ—Ç–æ–≤
- `GET /api/bots/sync/status` - –°—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- `GET /api/bots` - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –±–æ—Ç–æ–≤
- `GET /api/bots/:id` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ
- `GET /api/bots/:botId/inventory` - –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –±–æ—Ç–∞
- `POST /api/bots` - –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞
- `POST /api/bots/create-test` - –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –±–æ—Ç–∞
- `PUT /api/bots/:id` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞
- `DELETE /api/bots/:id` - –£–¥–∞–ª–µ–Ω–∏–µ –±–æ—Ç–∞
- `POST /api/bots/:botId/login` - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞
- `POST /api/bots/:botId/sync` - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è –±–æ—Ç–∞
- `POST /api/bots/sync/all` - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –±–æ—Ç–æ–≤
- `POST /api/bots/:botId/sync/force` - –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- `POST /api/bots/trades/process` - –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ö–æ–¥—è—â–∏—Ö —Å–¥–µ–ª–æ–∫
- `POST /api/bots/sync/start` - –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- `POST /api/bots/sync/stop` - –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

## üóÑ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –ö–æ–ª–ª–µ–∫—Ü–∏–∏ MongoDB

1. **users** - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
   - `steamId` - Steam ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - `steamProfile` - –ü—Ä–æ—Ñ–∏–ª—å Steam (displayName, avatar)
   - `email` - Email (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - `tradeUrl` - Steam Trade URL
   - `balance` - –ë–∞–ª–∞–Ω—Å –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ
   - `referralCode` - –†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –∫–æ–¥
   - `referredBy` - –ö—Ç–æ –ø—Ä–∏–≥–ª–∞—Å–∏–ª
   - `referralEarnings` - –ó–∞—Ä–∞–±–æ—Ç–æ–∫ —Å —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤
   - `isVerified` - –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
   - `isBanned` - –ë–∞–Ω
   - `role` - –†–æ–ª—å (user, moderator, admin)

2. **items** - –ü—Ä–µ–¥–º–µ—Ç—ã
   - `steamId` - Steam ID –ø—Ä–µ–¥–º–µ—Ç–∞
   - `marketName` - –ù–∞–∑–≤–∞–Ω–∏–µ –Ω–∞ —Ä—ã–Ω–∫–µ
   - `displayName` - –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ
   - `type` - –¢–∏–ø –ø—Ä–µ–¥–º–µ—Ç–∞
   - `rarity` - –†–µ–¥–∫–æ—Å—Ç—å
   - `exterior` - –°–æ—Å—Ç–æ—è–Ω–∏–µ (–¥–ª—è –Ω–æ–∂–µ–π)
   - `image` - URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
   - `game` - –ò–≥—Ä–∞ (cs2, dota2, rust, other)
   - `steamPrice` - –¶–µ–Ω–∞ –≤ Steam
   - `ourPrice` - –ù–∞—à–∞ —Ü–µ–Ω–∞
   - `currency` - –í–∞–ª—é—Ç–∞
   - `isAvailable` - –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
   - `isTradeable` - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ç–æ—Ä–≥–æ–≤–ª–∏
   - `quantity` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ
   - `tags` - –¢–µ–≥–∏
   - `category` - –ö–∞—Ç–µ–≥–æ—Ä–∏—è
   - `itemCollection` - –ö–æ–ª–ª–µ–∫—Ü–∏—è
   - `tradeCount` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫

3. **trades** - –¢–æ—Ä–≥–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
   - `userId` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - `type` - –¢–∏–ø (buy, sell)
   - `items` - –ú–∞—Å—Å–∏–≤ –ø—Ä–µ–¥–º–µ—Ç–æ–≤
   - `totalAmount` - –û–±—â–∞—è —Å—É–º–º–∞
   - `status` - –°—Ç–∞—Ç—É—Å (pending, processing, completed, failed, cancelled)
   - `steamTradeId` - ID —Å–¥–µ–ª–∫–∏ –≤ Steam
   - `botId` - ID –±–æ—Ç–∞

4. **transactions** - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
   - `userId` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - `type` - –¢–∏–ø (deposit, withdrawal, purchase, sale, referral)
   - `amount` - –°—É–º–º–∞
   - `currency` - –í–∞–ª—é—Ç–∞
   - `status` - –°—Ç–∞—Ç—É—Å (pending, completed, failed, cancelled)
   - `description` - –û–ø–∏—Å–∞–Ω–∏–µ
   - `tradeId` - ID —Å–¥–µ–ª–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - `metadata` - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

5. **bots** - –¢–æ—Ä–≥–æ–≤—ã–µ –±–æ—Ç—ã
   - `steamId` - Steam ID –±–æ—Ç–∞
   - `displayName` - –ò–º—è –±–æ—Ç–∞
   - `avatar` - –ê–≤–∞—Ç–∞—Ä
   - `tradeUrl` - Trade URL
   - `isActive` - –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
   - `isOnline` - –û–Ω–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å
   - `lastActivity` - –ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
   - `steamUsername` - –õ–æ–≥–∏–Ω Steam
   - `steamPassword` - –ü–∞—Ä–æ–ª—å Steam
   - `steamGuardCode` - Steam Guard –∫–æ–¥
   - `syncInterval` - –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
   - `lastSync` - –ü–æ—Å–ª–µ–¥–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
   - `syncStatus` - –°—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
   - `inventory` - –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –±–æ—Ç–∞

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **Helmet** - –∑–∞—â–∏—Ç–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ —Å CSP
- **CORS** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ cross-origin –∑–∞–ø—Ä–æ—Å–æ–≤
- **Rate Limiting** - –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤
- **JWT** - –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **Input Validation** - –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **MongoDB Injection Protection** - –∑–∞—â–∏—Ç–∞ –æ—Ç –∏–Ω—ä–µ–∫—Ü–∏–π

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
npm test              # –í—Å–µ —Ç–µ—Å—Ç—ã
npm run test:watch    # –¢–µ—Å—Ç—ã –≤ —Ä–µ–∂–∏–º–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è
npm run test:coverage # –¢–µ—Å—Ç—ã —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
npm run test:unit     # –¢–æ–ª—å–∫–æ unit —Ç–µ—Å—Ç—ã
npm run test:integration # –¢–æ–ª—å–∫–æ integration —Ç–µ—Å—Ç—ã
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤
```
tests/
‚îú‚îÄ‚îÄ setup.ts          # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ testSequencer.js  # –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ unit/             # Unit —Ç–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ middleware/
‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îî‚îÄ‚îÄ services/
‚îî‚îÄ‚îÄ integration/      # Integration —Ç–µ—Å—Ç—ã
    ‚îî‚îÄ‚îÄ api/
```

## üöÄ –î–µ–ø–ª–æ–π

### Environment Variables –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω
```env
NODE_ENV=production
MONGODB_URI=mongodb://your-production-db
JWT_SECRET=your-production-jwt-secret
STEAM_API_KEY=your-steam-api-key
FRONTEND_URL=https://your-frontend-domain.com
```

### –°–∫—Ä–∏–ø—Ç—ã
```bash
npm run dev      # –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev:test # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
npm run build    # –°–±–æ—Ä–∫–∞ TypeScript
npm run start    # –ó–∞–ø—É—Å–∫ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω —Ä–µ–∂–∏–º–µ
npm run seed:items # –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–æ–≤
npm run seed:bots  # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –±–æ—Ç–æ–≤
```

## üìù TODO

- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Steam –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
- [x] –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å API endpoints
- [x] –î–æ–±–∞–≤–∏—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞–º–∏
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
- [x] –î–æ–±–∞–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- [x] –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å rate limiting
- [x] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –°–æ–∑–¥–∞—Ç—å –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
- [ ] –î–æ–±–∞–≤–∏—Ç—å WebSocket –¥–ª—è real-time —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∫—Ä–∏–ø—Ç–æ–ø–ª–∞—Ç–µ–∂–∞–º–∏
- [ ] –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏
- [ ] Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch
3. Commit –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. Push –≤ branch
5. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License
